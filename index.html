<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gesti√≥n Escolar</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>

</head>

<body>
    <div class="container">
        <!-- Login Estudiante -->
        <div id="studentLogin" class="page active">
            <div class="login-page">
                <div class="header">
                    <h1>Acceso Estudiantil</h1>
                    <p>Ingresa tu matricula para acceder</p>
                </div>
                <div class="form-group">
                    <label for="studentId">Matr√≠cula</label>
                    <input type="text" id="studentId" placeholder="Ingresa tu matr√≠cula">
                </div>
                <div class="form-group">
                    <label for="studentPassword">Contrase√±a</label>
                    <input type="password" id="studentPassword" placeholder="Ingresa tu contrase√±a">
                </div>
                <button class="btn" onclick="loginStudent()">Iniciar Sesi√≥n</button>
                <div class="link" onclick="showPage('studentRegister')">
                    ¬øPrimera vez? Reg√≠strate aqu√≠
                </div>
                <div class="link" onclick="showPage('teacherLogin')">
                    ¬øEres docente? Da click aqu√≠
                </div>
            </div>
        </div>

        <!-- Registro Estudiante -->
        <div id="studentRegister" class="page">
            <div class="login-page">
                <div class="header">
                    <h1>Registro de Estudiante</h1>
                    <p>Crea tu cuenta para acceder al sistema</p>
                </div>
                <div class="form-group">
                    <label for="regStudentId">Matr√≠cula</label>
                    <input type="text" id="regStudentId" placeholder="Ingresa tu matr√≠cula">
                </div>
                <div class="form-group">
                    <label for="regStudentPassword">Contrase√±a</label>
                    <input type="password" id="regStudentPassword"
                        placeholder="Crea una contrase√±a (m√≠n. 6 caracteres)">
                </div>
                <div class="form-group">
                    <label for="regStudentPassword2">Confirmar Contrase√±a</label>
                    <input type="password" id="regStudentPassword2" placeholder="Confirma tu contrase√±a">
                </div>
                <button class="btn" onclick="registerStudent()">Registrarse</button>
                <div class="link" onclick="showPage('studentLogin')">
                    ¬øYa tienes cuenta? Inicia sesi√≥n
                </div>
            </div>
        </div>

        <!-- Login Docente -->
        <div id="teacherLogin" class="page">
            <div class="login-page">
                <div class="header">
                    <h1>Portal Docente</h1>
                    <p>Acceso exclusivo para profesores</p>
                </div>
                <div class="form-group">
                    <label for="teacherId">ID de Empleado</label>
                    <input type="text" id="teacherId" placeholder="Ingresa tu ID">
                </div>
                <div class="form-group">
                    <label for="teacherPassword">Contrase√±a</label>
                    <input type="password" id="teacherPassword" placeholder="Ingresa tu contrase√±a">
                </div>
                <button class="btn" onclick="loginTeacher()">Iniciar Sesi√≥n</button>
                <div class="link" onclick="showPage('teacherRegister')">
                    ¬øPrimera vez? Reg√≠strate aqu√≠
                </div>
                <div class="link" onclick="showPage('studentLogin')">
                    ¬øEres estudiante? Da click aqu√≠
                </div>
            </div>
        </div>

        <!-- Registro Docente -->
        <div id="teacherRegister" class="page">
            <div class="login-page">
                <div class="header">
                    <h1>Registro de Docente</h1>
                    <p>Crea tu cuenta de docente</p>
                </div>
                <div class="form-group">
                    <label for="regTeacherId">ID de Empleado</label>
                    <input type="text" id="regTeacherId" placeholder="Ej: DOC-001">
                </div>
                <div class="form-group">
                    <label for="regTeacherName">Nombre Completo</label>
                    <input type="text" id="regTeacherName" placeholder="Ingresa tu nombre completo">
                </div>
                <div class="form-group">
                    <label for="regTeacherPassword">Contrase√±a</label>
                    <input type="password" id="regTeacherPassword"
                        placeholder="Crea una contrase√±a (m√≠n. 6 caracteres)">
                </div>
                <div class="form-group">
                    <label for="regTeacherPassword2">Confirmar Contrase√±a</label>
                    <input type="password" id="regTeacherPassword2" placeholder="Confirma tu contrase√±a">
                </div>
                <button class="btn" onclick="registerTeacher()">Registrarse</button>
                <div class="link" onclick="showPage('teacherLogin')">
                    ¬øYa tienes cuenta? Inicia sesi√≥n
                </div>
            </div>
        </div>

        <!-- Dashboard Estudiante -->
        <div id="studentDashboard" class="page">
            <div class="nav-bar">
                <h2>Portal Estudiantil</h2>
                <button class="logout-btn" onclick="logout()">Cerrar Sesi√≥n</button>
            </div>
            <div class="content">
                <div class="tabs">
                    <button class="tab active" onclick="switchStudentTab(event, 'profile')">Perfil</button>
                    <button class="tab" onclick="switchStudentTab(event, 'attendance')">Faltas</button>
                    <button class="tab" onclick="switchStudentTab(event, 'reports')">Reportes</button>
                    <button class="tab" onclick="switchStudentTab(event, 'settings')">Configuraci√≥n</button>
                </div>

                <div id="studentProfile" class="tab-content active">
                    <div class="card">
                        <h3>Informaci√≥n Personal</h3>
                        <div class="info-row">
                            <span class="info-label">Nombre:</span>
                            <span class="info-value" id="studentName"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Matr√≠cula:</span>
                            <span class="info-value" id="studentMatricula"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Tel√©fono:</span>
                            <span class="info-value" id="studentTelefono"></span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Grupo:</span>
                            <span class="info-value">502CDIA</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">Semestre:</span>
                            <span class="info-value">5to Semestre</span>
                        </div>
                    </div>
                </div>

                <div id="studentAttendance" class="tab-content">
                    <div class="alert alert-warning" id="attendanceAlert" style="display: none;">
                        Advertencia!! Tienes <span id="totalFaltas">0</span> faltas registradas.
                    </div>
                    <div class="card">
                        <h3>Historial de Faltas</h3>
                        <div id="studentFaltasList"></div>
                    </div>
                </div>

                <div id="studentReports" class="tab-content">
                    <div class="card">
                        <h3>Historial de Reportes</h3>
                        <div id="studentReportsList"></div>
                    </div>
                </div>

                <div id="studentSettings" class="tab-content">
                    <div class="card">
                        <h3>Cambiar Contrase√±a</h3>
                        <div class="form-group">
                            <label for="currentPassword">Contrase√±a Actual</label>
                            <input type="password" id="currentPassword" placeholder="Ingresa tu contrase√±a actual">
                        </div>
                        <div class="form-group">
                            <label for="newPassword">Nueva Contrase√±a</label>
                            <input type="password" id="newPassword" placeholder="Ingresa tu nueva contrase√±a">
                        </div>
                        <div class="form-group">
                            <label for="confirmNewPassword">Confirmar Nueva Contrase√±a</label>
                            <input type="password" id="confirmNewPassword" placeholder="Confirma tu nueva contrase√±a">
                        </div>
                        <button class="btn" onclick="changeStudentPassword()">Cambiar Contrase√±a</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Docente -->
        <div id="teacherDashboard" class="page">
            <div class="nav-bar">
                <h2>Portal Docente</h2>
                <button class="logout-btn" onclick="logout()">Cerrar Sesi√≥n</button>
            </div>
            <div class="content">
                <div class="tabs">
                    <button class="tab active" onclick="switchTeacherTab(event, 'groups')">Mis Grupos</button>
                    <button class="tab" onclick="switchTeacherTab(event, 'teacherSettings')">Configuraci√≥n</button>
                </div>

                <div id="teacherGroups" class="tab-content active">
                    <h2 style="margin-bottom: 20px;">Mis Grupos</h2>
                    <div id="groupsList"></div>
                </div>

                <div id="teacherSettings" class="tab-content">
                    <div class="card">
                        <h3>Cambiar Contrase√±a</h3>
                        <div class="form-group">
                            <label for="teacherCurrentPassword">Contrase√±a Actual</label>
                            <input type="password" id="teacherCurrentPassword"
                                placeholder="Ingresa tu contrase√±a actual">
                        </div>
                        <div class="form-group">
                            <label for="teacherNewPassword">Nueva Contrase√±a</label>
                            <input type="password" id="teacherNewPassword" placeholder="Ingresa tu nueva contrase√±a">
                        </div>
                        <div class="form-group">
                            <label for="teacherConfirmNewPassword">Confirmar Nueva Contrase√±a</label>
                            <input type="password" id="teacherConfirmNewPassword"
                                placeholder="Confirma tu nueva contrase√±a">
                        </div>
                        <button class="btn" onclick="changeTeacherPassword()">Cambiar Contrase√±a</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pase de Lista -->
        <div id="attendancePage" class="page">
            <div class="nav-bar">
                <h2 id="attendanceTitle">Pase de Lista</h2>
                <button class="logout-btn" onclick="logout()">Cerrar Sesi√≥n</button>
            </div>
            <div class="content">
                <button class="btn-back" onclick="backToGroups()">‚Üê Volver a Grupos</button>

                <div class="stats">
                    <div class="stat-box">
                        <div class="stat-number" id="totalStudents">0</div>
                        <div class="stat-label">Total Alumnos</div>
                    </div>
                    <div class="stat-box" style="background: linear-gradient(135deg, #28a745 0%, #20c997 100%);">
                        <div class="stat-number" id="presentCount">0</div>
                        <div class="stat-label">Presentes</div>
                    </div>
                    <div class="stat-box" style="background: linear-gradient(135deg, #dc3545 0%, #bd2130 100%);">
                        <div class="stat-number" id="absentCount">0</div>
                        <div class="stat-label">Ausentes</div>
                    </div>
                </div>

                <div class="search-box">
                    <input type="text" id="searchStudent" placeholder="üîç Buscar alumno..." onkeyup="filterStudents()">
                </div>

                <div class="student-list" id="attendanceList"></div>
            </div>
        </div>
    </div>

    <!-- Modal para Reportes -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Registrar Reporte</h2>
                <p id="reportStudentName" style="color: #666;"></p>
            </div>
            <div class="form-group">
                <label for="reportType">Tipo de Reporte</label>
                <select id="reportType">
                    <option value="Conducta">Conducta</option>
                    <option value="Acad√©mico">Acad√©mico</option>
                    <option value="Retraso">Retraso</option>
                    <option value="Falta de Material">Falta de Material</option>
                    <option value="Otro">Otro</option>
                </select>
            </div>
            <div class="form-group">
                <label for="reportDescription">Descripci√≥n</label>
                <textarea id="reportDescription" placeholder="Describe el motivo del reporte..."></textarea>
            </div>
            <div class="modal-buttons">
                <button class="btn" onclick="saveReport()">Guardar Reporte</button>
                <button class="btn" style="background: #6c757d;" onclick="closeReportModal()">Cancelar</button>
            </div>
        </div>
    </div>
</body>